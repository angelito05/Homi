<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear PublicaciÃ³n | Homi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/homi.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/publicaciones.css') }}">
</head>
<body>

    <div class="pub-container">
        <div class="pub-header">
            <div class="homi-logo">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> 
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <div class="logo-text-container">
                    <span class="logo-text">Homi</span>
                    <span class="logo-slogan">Tu espacio ideal en un clic</span>
                </div>
            </div>

            <div class="menu-icon">&#9776;</div>
        </div>

        <form action="/crear-publicacion" method="POST" enctype="multipart/form-data">
            <div class="pub-grid">
                
                <div class="left-col">
                    <label class="label-titulo">Detalles de la PublicaciÃ³n</label>
                    <input type="text" class="homi-input" placeholder="TÃ­tulo de la propiedad" name="titulo" required>
                    
                    <textarea class="homi-input homi-textarea" style="height: 150px;" placeholder="DescripciÃ³n detallada..." name="descripcion"></textarea>

                    <div class="owner-section">
                        <img src="{{ url_for('static', filename=propietario.foto_perfil) }}" class="owner-avatar" onerror="this.src='https://cdn-icons-png.flaticon.com/512/847/847969.png'">
                        <div>
                            <strong>Propietario:</strong><br><span>{{ propietario.nombre }}</span>
                        </div>
                    </div>

                    <button type="submit" class="btn-publicar">PUBLICAR PROPIEDAD</button>
                </div>

                <div class="right-col">
                    
                    <div class="carousel-container">
    <input type="file" id="file-1" name="foto1" hidden onchange="previewCarouselImage(this, 1)">
    <input type="file" id="file-2" name="foto2" hidden onchange="previewCarouselImage(this, 2)">
    <input type="file" id="file-3" name="foto3" hidden onchange="previewCarouselImage(this, 3)">
    <input type="file" id="file-4" name="foto4" hidden onchange="previewCarouselImage(this, 4)">
    <input type="file" id="file-5" name="foto5" hidden onchange="previewCarouselImage(this, 5)">

    <div class="carousel-slide active" onclick="document.getElementById('file-1').click()">
        <button type="button" class="btn-delete" id="del-1" onclick="deleteImage(event, 1)">ğŸ—‘ï¸</button>
        
        <div class="placeholder-content" id="ph-1">
            <span style="font-size: 40px;">ğŸ“¸</span><br>Subir Foto Principal
        </div>
        <img src="" class="slide-img" id="img-1" style="display:none;">
        <div class="click-hint">Clic para cambiar</div>
    </div>

    <div class="carousel-slide" onclick="document.getElementById('file-2').click()">
        <button type="button" class="btn-delete" id="del-2" onclick="deleteImage(event, 2)">ğŸ—‘ï¸</button>
        <div class="placeholder-content" id="ph-2"><span>â•</span><br>Subir Foto 2</div>
        <img src="" class="slide-img" id="img-2" style="display:none;">
        <div class="click-hint">Clic para cambiar</div>
    </div>

    <div class="carousel-slide" onclick="document.getElementById('file-3').click()">
        <button type="button" class="btn-delete" id="del-3" onclick="deleteImage(event, 3)">ğŸ—‘ï¸</button>
        <div class="placeholder-content" id="ph-3"><span>â•</span><br>Subir Foto 3</div>
        <img src="" class="slide-img" id="img-3" style="display:none;">
        <div class="click-hint">Clic para cambiar</div>
    </div>

    <div class="carousel-slide" onclick="document.getElementById('file-4').click()">
        <button type="button" class="btn-delete" id="del-4" onclick="deleteImage(event, 4)">ğŸ—‘ï¸</button>
        <div class="placeholder-content" id="ph-4"><span>â•</span><br>Subir Foto 4</div>
        <img src="" class="slide-img" id="img-4" style="display:none;">
        <div class="click-hint">Clic para cambiar</div>
    </div>

    <div class="carousel-slide" onclick="document.getElementById('file-5').click()">
        <button type="button" class="btn-delete" id="del-5" onclick="deleteImage(event, 5)">ğŸ—‘ï¸</button>
        <div class="placeholder-content" id="ph-5"><span>â•</span><br>Subir Foto 5</div>
        <img src="" class="slide-img" id="img-5" style="display:none;">
        <div class="click-hint">Clic para cambiar</div>
    </div>

    <button type="button" class="carousel-btn prev" onclick="event.stopPropagation(); moveSlide(-1)">&#10094;</button>
    <button type="button" class="carousel-btn next" onclick="event.stopPropagation(); moveSlide(1)">&#10095;</button>
    
    <div class="carousel-indicators">
        <span class="dot active" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
        <span class="dot" onclick="currentSlide(4)"></span>
        <span class="dot" onclick="currentSlide(5)"></span>
    </div>
</div>

                    <label class="label-titulo">UbicaciÃ³n</label>
                    <div id="map"></div>
                    <input type="hidden" name="latitud" id="lat">
                    <input type="hidden" name="longitud" id="lng">
                </div>
            </div>
        </form>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="{{ url_for('static', filename='JS/publicaciones.js') }}"></script>
</body>
</html>